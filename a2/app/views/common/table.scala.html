@(claimList:Option[play.api.libs.json.JsArray])

@import org.joda.time.format.DateTimeFormat
@import org.joda.time.DateTime
@import utils.JsValueWrapper.improveJsValue

@dateTime(date:DateTime) = @{ DateTimeFormat.forPattern("dd/MM/yyyy, HH:mm").print(date) }
@date(date:DateTime) = @{ DateTimeFormat.forPattern("dd/MM/yyyy").print(date) }


<table id="claimsTable">
    <caption>List of claims</caption>
    <thead>
        <tr>
            <th></th>
            <th>Transaction Id</th>
            <th>Name</th>
            <th>Creation Date</th>
            <th class="ni">NI Number</th>
            <th>Received Date</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        @if(claimList.isDefined){
            @for(claim <- claimList.get.value){
                <tr>
                    <td>
                        @if(claim.p.status.asString == "viewed") {
                            <label for="@claim.p.transactionId">Claim 1</label><input type="checkbox" name="@claim.p.transactionId" id="@claim.p.transactionId">
                        }
                    </td>
                    <td>@claim.p.transactionId</td>
                    <td><a href="#">@claim.p.forename @claim.p.surname</a></td>
                    <td><a>@dateTime(claim.p.claimDateTime.asDate)</a></td>
                    <td class="ni">@claim.p.nino</td>
                    <td class="receivedDate">@date(claim.p.claimDateTime.asDate)</td>
                    <td>@claim.p.status</td>
                </tr>
            }
        }
    </tbody>
</table>